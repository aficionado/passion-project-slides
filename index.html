<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Machine Learning in JavaScript</title>
    <link rel="stylesheet" href="reveal.min.css"/>
    <link rel="stylesheet" href="simple.css"/>
    <link rel="stylesheet" href="pproject.css"/>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section id="intro">
           <h1>Passion Project</h1>
           <h2>Machine Learning in JavaScript</h2>
           <div>Heather Arthur</div>
           <div>@harthvader</div>
           <div>github/harthur</div>
        </section>
        <section id="mozilla">
          <img id="moz-logo" src="images/moz-firefox.png"></img>
        </section>
        <section id="devtools">
          <img src="images/tools-menu.png"></img>
          <img src="images/devtools.png"></img>
        </section>
        <section id="machine-learning">
          <h1>Machine Learning</h1>
        </section>
        <section id="ml-example">
          <h2>ML applications</h2>
          <ul>
            <li>spam filtering</li>
            <li>face detection</li>
            <li>recommendations</li>
            <li>character recognition</li>
          </ul>
        </section>
        <section id="ml-difference">
          <ul>
            <li>traditional computation: hand-chosen conditionals and params</li>
            <li>ML algorithms: rules are learned from data</li>
          </ul>
        </section>
        <section id="javascript">
          <h1>JavaScript</h1>
          <img src="images/top-langs.png"></img>
        </section>
        <section id="the-problem">
          <h1>The Problem</h1>
          <h4>Should I bother?...</h4>
          <h3>Does it have cat pics?</h3>
          <h2 id="cat-q">
            <img id="cat-pics" src="images/cat-pics.png"></img>
            <span id="qs">???</span>
          </h2>
        </section>
        <section "cat-detection">
          <h1>Cat Detection</h1>
          <img src="images/radar-cat.jpg"></img>
        </section>
        <section id="full-image">
          <h1>Breaking it down</h1>
          <h4>does this image contain a cat?</h4>
          <img id="big-cat" src="images/big-cat.jpg"></img>
        </section>
        <section id="image-part">
          <h1>Breaking it down</h1>
          <h4>is this section a cat head?</h4>
          <div id="section-pics">
            <img src="images/cat-head.jpg"></img>
            <img src="images/no-cat.jpg"></img>
          </div>
        </section>
        <section id="classifier">
          <h1>We need a classifier</h1>
          <ul>
            <li>Takes a piece of data, tells you what class it's in</li>
            <li>Usually by training on data with known classifications</li>
            <li>Bayesian (spam), k-nearest neighbors, neural networks, support vector machines.</li>
        </section>
        <section id="svms">
          <h1>Support Vector Machines</h1>
          <ul>
            <li>trained with labelled data</li>
            <li>each piece of data is a vector of numbers</li>
            <li>label is -1 or 1</li>
          </ul>
        </section>
        <section id="format">
          <h1>Input and Output</h1>
          <h4>label/output is 1 if it's a cat, -1 if not</h4>
          <h4>input is [?,?,?, ....]
        </section>
        <section id="input">
          <h1>What's the input?</h1>
          <h3>pixels</h3>
          <div class="head-images">
            <img src="images/cat1.jpg"></img>
            <img src="images/cat2.jpg"></img>
            <img src="images/cat3.jpg"></img>
            <img src="images/cat4.jpg"></img>
          </div>
          <h4>too much information</h4>
          <h3>edges</h3>
          <div class="head-images">
            <img src="images/cat1-mag.jpg"></img>
            <img src="images/cat2-mag.jpg"></img>
            <img src="images/cat3-mag.jpg"></img>
            <img src="images/cat4-mag.jpg"></img>
          </div>
          <h4>leaves shape information</h4>
        </section>
        <section id="hog">
          <h1>Histogram of Oriented Gradients</h1>
          <ul>
            <li>"HOG descriptor"</li>
            <li>captures strength + direction of edges</li>
            <li>Pixels -> array of #s (perfect!)</li>
            <li>48 x 48 canvas -> HOG of length 1176</li>
          </ul>
        </section>
        <section id="collection">
          <h1>Collection</h1>
          <ul>
            <li>negatives: 1000s of random non-cat image crops</li>
            <li>positives: 1000s of cat head crops</li>
            <ul>
              <li>
                <a href="http://137.189.35.203/WebUI/CatDatabase/catData.html">
                    cat dataset</a> annotated with locations of ears, eyes, nose
              <li>
              <li>rotate so eyes are level and crop to frame cat head</li>
            </ul>
          </ul>
        </section>
        <section id="training">
          <h1>Training</h1>
          <pre><code>
var hog = require("hog-descriptor");
var svm = require("svm");

function train(pics) {
  var inputs = [];
  var labels = [];
  for (var i in pics) {
    inputs[i] = hog.extractHOG(pics[i].canvas);
    labels[i] = pics[i].isCat ? 1 : -1;
  }

  var SVM = new svm.SVM();
  SVM.train(inputs, labels);
}
          </code></pre>
        </section>
        <section id="state">
          <h1>What training does</h1>
          <h4>Training finds these numbers:</h4>
          <h4><code>SVM.toJSON()</code></h4>
          <pre><code>
{
  "N": 200,
  "D": 1176,
  "b": -1.9007738283614,
  "kernelType": "linear",
  "w": [
    -0.039986109425303,
    -0.10320175974183,
    0.047456416498616,
    -0.059351675560768,
    0.058363533996746,
    -0.030757724103858,
    -0.077885096059827,
    -0.10909238884521,
    -0.027176815631789,
    0.011213708955119,
    0.11097928973275,
    0.02171080491539,
    0.087237563435941,
    -0.011851994166769,
    -0.083436869138139,
    0.03666910365707,
    -0.04060984443935,
    0.018076869381974,
    -0.030717675854092,
    -0.053448579335487
    ,...]
}
          </code></pre>
        </section>
        <section id="predicting">
          <h4>Is this section a cat head?</h4>
          <pre><code>
function isCat(canvas) {
  var descriptor = hog.extractHOG(canvas);

  var result = SVM.predictOne(descriptor);
  return result == 1;
}
        </section>
        <section id="windows">
          <h4>Does this image contain a cat?</h4>
          <ul>
            <li>Test "windows" at different scales, locations</li>
            <li>Combine overlapping detections</li>
            <li>Weed out spurious detections</li>
          </ul>
        </section>
        <section id="demo">
          <h1>Demo</h1>
          <h3><a href="http://harthur.github.com/kittydar">http://harthur.github.com/kittydar</a></h3>
        </section>
        <section>
        <section id="ml-in-js">
          <h1>Machine Learning in JS</h1>
          <h4>Libraries</h4>
          <ul>
            <li>Support Vector Machines</li>
            <li>Neural Networks</li>
            <li>Clustering</li>
            <li>Bayesian classifier</li>
          </ul>
          <h4>Applications</h4>
            <li><a href="http://liuliu.me/ccv/js/nss/">real-time face detection</a>
            <li><a href="https://github.com/mtschirs/js-objectdetect">
              Face, hand, eye detection
              </a>
            </li>
        </section>
      </div>
    </div>

    <script src="reveal.min.js"></script>
    <script>
    Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Display a presentation progress bar
        progress: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Vertical centering of slides
        center: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // Apply a 3D roll to links on hover
        rollingLinks: true,

        // Transition style
        transition: 'none' // default/cube/page/concave/zoom/linear/fade/none

    });
    </script>
  </body>
</html>